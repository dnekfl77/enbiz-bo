<!--
* 프로그램명 : 협력사 CRU
* 작 성 일 : 2021.02.10
* 작 성 자 : 박남훈
* 수 정 자 :
* 버    전 : 1.0
* 개    요 : 협력사 CRU 관리를 하는 UI
* 이    력 :
-->
<html lang="ko-KR"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/page-realgrid-layout}">

<head>
    <title>sub title</title>
</head>
<body>
<th:block layout:fragment="page-title-area">
<div class="page-title">
    <div class="left">
        <h1><th:block th:text="${#messages.msg('vendorMgmt.partner.popup.modify.title')}"/></h1>
    </div>
</div>
</th:block>
<th:block layout:fragment="page-contents">
<div class="page-fixed with-title">
    <form name="partnerCruForm" id="partnerCruForm">
        <input type="hidden" name="argMode" id="argMode" th:value="${requestData.argMode}">
        <input type="hidden" name="entrGbCd" id="entrGbCd" value="10">
        <div class="data-cont">
            <div class="data">
                <!-- data-head -->
                <div class="data-head">
                    <div class="left">
                        <span class="title" th:text="${#messages.msg('vendorMgmt.partner.popup.lable.title')}"></span>
                    </div>
                </div>
                <!-- //data-head -->
                <!-- data-body -->
                <div class="data-body">
                    <table class="data-table">
                        <colgroup>
                            <col width="120">
                            <col width="200">
                            <col width="120">
                            <col width="200">
                            <col width="120">
                            <col width="200">
                        </colgroup>
                        <tbody>
                        <tr>
                            <td class="label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.entrNoNm')}"></strong>
                            </td>
                            <td colspan="3">
                                <div class="input-group">
                                    <input type="text" class="input disabled w20" maxlength="15"
                                           name="entrNo" id="entrNo"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.entrNo}">
                                    <input type="text" class="input w70" maxlength="250"
                                           name="entrNm" id="entrNm"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.entrNm}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.entrNm}">
                                </div>
                            </td>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.lgcEntrCd')}"></td>
                            <td>
                                <input type="text" class="input w80" maxlength="20"
                                       oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                       name="lgcEntrNo" id="lgcEntrNo"
                                       th:value="${partnerCruPopupResponseEx.etEntrBase.lgcEntrNo}">
                            </td>
                        </tr>
                        <tr>
                            <td class="label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.bmanKindCd')}"></strong>
                            </td>
                            <td>
                                <select class="form-control w80" name="bmanKindCd" id="bmanKindCd"
                                        th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.bmanKindCd}">
                                    <option value=""
                                            th:text="${#messages.msg('vendorMgmt.partner.popup.option.full')}">
                                    </option>
                                    <option th:each="list : ${codeList.VD004}"
                                            th:value="${list.cd}" th:utext="${list.cdNm}"
                                            th:selected="${list.cd} == ${partnerCruPopupResponseEx.etEntrBase.bmanKindCd}"
                                            ></option>
                                </select>
                            </td>
                            <td class="label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.bmanNo')}"></strong>
                            </td>
                            <td>
                                <input type="text" class="input w80" maxlength="10"
                                       oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                       name="bmanNo" id="bmanNo"
                                       th:value="${partnerCruPopupResponseEx.etEntrBase.bmanNo}"
                                       th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.bmanNo}">
                            </td>
                            <td class=" label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.corpnNo')}"></td>
                            <td>
                                <input type="text" class="input w80" maxlength="10"
                                       oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                       name="corpnNo" id="corpnNo"
                                       th:value="${partnerCruPopupResponseEx.etEntrBase.corpnNo}">
                            </td>
                        </tr>
                        <tr>
                            <td class="label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.trdTypCd')}"></strong>
                            </td>
                            <td>
                                <select class="form-control w80" name="trdTypCd" id="trdTypCd"
                                        th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.trdTypCd}">
                                    <option value=""
                                            th:text="${#messages.msg('vendorMgmt.partner.popup.option.full')}">
                                    </option>
                                    <option th:each="list : ${codeList.VD002}"
                                            th:value="${list.cd}" th:utext="${list.cdNm}"
                                            th:selected="${list.cd} == ${partnerCruPopupResponseEx.etEntrBase.trdTypCd}"
                                            ></option>
                                </select>
                            </td>
                            <td class="label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.trdStatCd')}"></strong>
                            </td>
                            <td>
                                <select class="form-control w80" name="trdStatCd" id="trdStatCd"
                                        th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.trdStatCd}">
                                    <option value=""
                                            th:text="${#messages.msg('vendorMgmt.partner.popup.option.full')}">
                                    </option>
                                    <option th:each="list : ${codeList.VD003}"
                                            th:value="${list.cd}" th:utext="${list.cdNm}"
                                            th:selected="${list.cd} == ${partnerCruPopupResponseEx.etEntrBase.trdStatCd}"
                                            ></option>
                                </select>
                            </td>
                            <td class=" label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.contStrtEndDy')}"></strong>
                            </td>
                            <td>
                                <div class="picker-group w80" data-lopicker="basic">
                                    <input type="text" class="form-control" placeholder=""
                                           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                           name="contStrtDy" id="contStrtDy"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.contStrtDy}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.contStrtDy}">
                                    <span class="input-group-addon">~</span>
                                    <input type="text" class="form-control" placeholder=""
                                           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                           name="contEndDy" id="contEndDy"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.contEndDy}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.contEndDy}">
                                    <span class="input-group-addon"><i class="icon-calendar" id="btn_calendar"></i></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.aempNm')}"></td>
                            <td>
                                <input type="text" class="input w80" maxlength="50"
                                       name="aempNm" id="aempNm"
                                       th:value="${partnerCruPopupResponseEx.etEntrBase.aempNm}">
                            </td>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.aempTelNo')}"></td>
                            <td>
                                <div class="input-group">
                                    <input type="text" class="input w20" maxlength="4"
                                           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                           name="aempTelRgnNo" id="aempTelRgnNo"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.aempTelRgnNo}">
                                    <input type="text" class="input w20" maxlength="4"
                                           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                           name="aempTelTxnoNo" id="aempTelTxnoNo"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.aempTelTxnoNo}">
                                    <input type="text" class="input w20" maxlength="4"
                                           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                           name="aempTelEndNo" id="aempTelEndNo"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.aempTelEndNo}">
                                </div>
                            </td>
                            <td class="label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.aempCellNo')}"></strong>
                            </td>
                            <td>
                                <div class="input-group" id="aempCellNo"
                                     th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.aempCellNo}">
                                    <select class="form-control w20" name="aempCellSctNo" id="aempCellSctNo"
                                            th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.aempCellSctNo}">
                                        <option value=""
                                                th:text="${#messages.msg('vendorMgmt.partner.popup.option.full')}">
                                        </option>
                                        <option th:each="list : ${codeList.CM013}"
                                                th:value="${list.cd}" th:utext="${list.cdNm}"
                                                th:selected="${list.cd} == ${partnerCruPopupResponseEx.etEntrBase.aempCellSctNo}"
                                                ></option>
                                    </select>
                                    <input type="text" class="input w20" maxlength="4"
                                           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                           name="aempCellTxnoNo" id="aempCellTxnoNo"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.aempCellTxnoNo}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.aempCellTxnoNo}">
                                    <input type="text" class="input w20" maxlength="4"
                                           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                           name="aempCellEndNo" id="aempCellEndNo"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.aempCellEndNo}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.aempCellEndNo}">
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.rpstmnNm')}"></td>
                            <td>
                                <input type="text" class="input w80" maxlength="50"
                                       name="rpstmnNm" id="rpstmnNm"
                                       th:value="${partnerCruPopupResponseEx.etEntrBase.rpstmnNm}">
                            </td>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.btyp')}"></td>
                            <td>
                                <input type="text" class="input w80" maxlength="100"
                                       name="btyp" id="btyp"
                                       th:value="${partnerCruPopupResponseEx.etEntrBase.btyp}">
                            </td>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.bkind')}"></td>
                            <td>
                                <input type="text" class="input w80" maxlength="100"
                                       name="bkind" id="bkind"
                                       th:value="${partnerCruPopupResponseEx.etEntrBase.bkind}">
                            </td>
                        </tr>
                        <tr>
                            <td class="label">
                                <strong th:text="${#messages.msg('vendorMgmt.partner.popup.label.zipNoAddrDtl')}"></strong>
                            </td>
                            <td colspan="5">
                                <div class="input-group address w90" id="zipNoAddrDtl">
                                    <input type="hidden" class="input disabled" disabled=""
                                           name="zipNoSeq" id="zipNoSeq"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.zipNoSeq}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.zipNoSeq}">
                                    <a href="#" class="button small" id="btn_addressSearch">
                                    <span class="text w10"
                                          th:text="${#messages.msg('vendorMgmt.partner.popup.button.searchAddr')}">
                                    </span>
                                    </a>
                                    <input type="text" class="input disabled w10" disabled=""
                                           name="zipNo" id="zipNo"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.zipNo}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.zipNo}">
                                    <input type="text" class="input disabled w30" disabled=""
                                           name="zipAddr" id="zipAddr"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.zipAddr}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.zipAddr}">
                                    <input type="text" class="input w40"
                                           name="dtlAddr" id="dtlAddr"
                                           th:value="${partnerCruPopupResponseEx.etEntrBase.dtlAddr}"
                                           th:data-msg-empty="#{vendorMgmt.partner.popup.valid.empty.dtlAddr}">
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.rmkCmt')}"></td>
                            <td colspan="5">
                                <input type="text" class="input w90" maxlength="2000"
                                       name="rmkCmt" id="rmkCmt"
                                       th:text="${partnerCruPopupResponseEx.etEntrBase.rmkCmt}">
                            </td>
                        </tr>
                        <tr>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.etDeliPolcBase')}"></td>
                            <td colspan="5">
                                <!-- 리얼그리드 -->
                                <div class="grid-cont">
                                    <div class="grid" style="overflow: hidden;">
                                        <div class="grid-head">
                                            <div class="option-area">
                                                <div class="edit-option">
                                                    <div class="button-group">
                                                        <a href="#" class="button inside" id="btn_etdelipolcbase_grid_add">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.add')}" />
                                                        </a>
                                                        <a href="#" class="button inside" id="btn_etdelipolcbase_grid_remove">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.remove')}" />
                                                        </a>
                                                        <a href="#" class="button inside" id="btn_etdelipolcbase_grid_reset">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.reset')}" />
                                                        </a>
                                                    </div>
                                                </div>
                                                <span class="tip warning fl-right mt5">배송비정책 (출하/회수 정책 수정시 전체 배송비코드에도 영향을 받으니 주의 부탁드립니다)</span>
                                            </div>
                                        </div>
                                        <div class="grid-body with-head">
                                            <div class="rg-root rg-grid" id="etDeliPolcBaseGrid" realgrid></div>
                                        </div>
                                    </div>
                                </div>
                                <!-- //리얼그리드 -->
                            </td>
                        </tr>
                        <tr>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.etEntrAempInfo')}"></td>
                            <td colspan="5">
                                <!-- 리얼그리드 -->
                                <div class="grid-cont">
                                    <div class="grid" style="overflow: hidden;">
                                        <div class="grid-head">
                                            <div class="option-area">
                                                <div class="edit-option">
                                                    <div class="button-group">
                                                        <a href="#" class="button inside" id="btn_etentraempinfo_grid_add">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.add')}" />
                                                        </a>
                                                        <a href="#" class="button inside" id="btn_etentraempinfo_grid_remove">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.remove')}" />
                                                        </a>
                                                        <a href="#" class="button inside" id="btn_etentraempinfo_grid_reset">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.reset')}" />
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid-body with-head">
                                            <div class="rg-root rg-grid" id="etEntrAempInfoGrid" realgrid></div>
                                        </div>
                                    </div>
                                </div>
                                <!-- //리얼그리드 -->
                            </td>
                        </tr>
                        <tr>
                            <td class="label" th:text="${#messages.msg('vendorMgmt.partner.popup.label.etEntrDlvpInfo')}"></td>
                            <td colspan="5">
                                <!-- 리얼그리드 -->
                                <div class="grid-cont">
                                    <div class="grid" style="overflow: hidden;">
                                        <div class="grid-head">
                                            <div class="option-area">
                                                <div class="edit-option">
                                                    <div class="button-group">
                                                        <a href="#" class="button inside" id="btn_etentrdlvpinfo_grid_add">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.add')}" />
                                                        </a>
                                                        <a href="#" class="button inside" id="btn_etentrdlvpinfo_grid_remove">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.remove')}" />
                                                        </a>
                                                        <a href="#" class="button inside" id="btn_etentrdlvpinfo_grid_reset">
                                                            <span class="text" th:text="${#messages.msg('vendorMgmt.grid.button.label.reset')}" />
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid-body with-head">
                                            <div class="rg-root rg-grid" id="etEntrDlvpInfoGrid" realgrid></div>
                                        </div>
                                    </div>
                                </div>
                                <!-- //리얼그리드 -->
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <!-- //data-body -->
            </div>
        </div>
    </form>
    <div class="button-group search-btn">
        <a href="#" class="button white" id="btn_partnerCruCancel"><span class="text">취소</span></a>
        <a href="#" class="button dark" id="btn_partnerCruSave"><span class="text">저장</span></a>
    </div>
</div>
</th:block>
<th:block layout:fragment="add-script">
    <script th:inline="javascript">
    /*<![CDATA[*/
        var _baseUrl 		        = [[${@domainConfig.getProperty('baseUrl')}]];
        var _jsUrl 			        = [[${@domainConfig.getProperty('jsUrl')}]];
        var _currentLocaleLanguage  = [[${@environmentConfig.getProperty('defaultLocale')}]];
        var _parameterMode          = [[${requestData.argMode}]];
        var _duty_cd_select         = {};
        /*[# th:each="list : ${codeList.VD006}"]*/
            var key = /*[[${list.cd}]]*/;
            _duty_cd_select[key] = /*[[${list.cdNm}]]*/;
        /*[/]*/
        var _dlex_type_select         = {};
        /*[# th:each="list : ${codeList.VD005}"]*/
            var key = /*[[${list.cd}]]*/;
            _dlex_type_select[key] = /*[[${list.cdNm}]]*/;
        /*[/]*/
        var _dlvp_type_select         = {};
        /*[# th:each="list : ${codeList.VD007}"]*/
            var key = /*[[${list.cd}]]*/;
            _dlvp_type_select[key] = /*[[${list.cdNm}]]*/;
        /*[/]*/

        var _etDeliPolcBaseList = [(${etDeliPolcBaseList})];
        var _etEntrAempInfoList = [(${etEntrAempInfoList})];
        var _etEntrDlvpInfoList = [(${etEntrDlvpInfoList})];

        var _modeCheckMessage       = [[${#messages.msg("vendorMgmt.partner.popup.msg.modeCheck")}]];
        var _saveQuestionMessage    = [[${#messages.msg("vendorMgmt.partner.popup.msg.saveQuestionMessage")}]];
        var _removeRowValidMessage  = [[${#messages.msg("vendorMgmt.grid.valid.msg.removeRowCheck")}]];
    /*]]>*/
    </script>
    <script type="text/javascript" th:src="${@domainConfig.getProperty('jsUrl')} + 'popup/popup.partner.etDeliPolcBaseGrid.eventHandler.js'" ></script>
    <script type="text/javascript" th:src="${@domainConfig.getProperty('jsUrl')} + 'popup/popup.partner.etDeliPolcBaseGrid.provider.js'" ></script>

    <script type="text/javascript" th:src="${@domainConfig.getProperty('jsUrl')} + 'popup/popup.partner.etEntrAempInfoGrid.eventHandler.js'" ></script>
    <script type="text/javascript" th:src="${@domainConfig.getProperty('jsUrl')} + 'popup/popup.partner.etEntrAempInfoGrid.provider.js'" ></script>

    <script type="text/javascript" th:src="${@domainConfig.getProperty('jsUrl')} + 'popup/popup.partner.etEntrDlvpInfoGrid.eventHandler.js'" ></script>
    <script type="text/javascript" th:src="${@domainConfig.getProperty('jsUrl')} + 'popup/popup.partner.etEntrDlvpInfoGrid.provider.js'" ></script>

    <script type="text/javascript" th:src="${@domainConfig.getProperty('jsUrl')} + 'popup/popup.partnerCruPopup.eventHandler.js'" ></script>

    <script type="text/javascript">
        $(document).ready(function() {
            etDeliPolcBaseGrid.eventhandler.initialize();
            etEntrAempInfoGrid.eventhandler.initialize();
            etEntrDlvpInfoGrid.eventhandler.initialize();

            partnerCruPopup.eventhandler.initialize();
        });
    </script>
</th:block>

</body>
</html>